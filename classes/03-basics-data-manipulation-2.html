<!DOCTYPE html>
<html>
  <head>
    <title>R-tistic</title>
    <meta charset="utf-8">
    <meta name="author" content="Lars Schoebitz r-tistic@lse.de" />
    <meta name="date" content="2017-06-15" />
    <link rel="stylesheet" href="r-tistic_theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# R-tistic
## Basics of Data Manipulation
### Lars Schoebitz </br><a href="mailto:r-tistic@lse.de">r-tistic@lse.de</a>
### June 15, 2017

---








layout: true
class: theme

---
## R-tistic
***
### Overview

1. Introduction to R and RStudio
    - basics of data visualisation 
    - basics of reproducible research
2. Basics of data manipulation
    - using Slack for class communication
    - **data manipulation with dplyr**
3. Basics of using R for statistical analyses
4. Basics of Git, GitHub and collaborative programming
5. Advanced classes of the above


---
## Last course
***
### Basics of data visualisation

What have you worked on between then (16.03.2017) and today?

![](03-basics-data-manipulation-2_files/figure-html/unnamed-chunk-1-1.png)&lt;!-- --&gt;


.footnote[
This slide is inspired by content and code directly copied from the book ["ggplot2 - Elegant Graphics for Data Analysis"](http://bit.ly/2muDLCd) by [Hadley Wickhmam](http://hadley.nz/). Use R! Springer International Publishing, 2016. doi:10.1007/978-3-319-24277-4_2.
]

---
## Practice,...
***
### ...practice, practice. 

&gt; But while you should expect to be a little frustrated, take comfort in that it’s both typical and temporary: it happens to everyone, and the only way to get over it is to keep trying. - [Hadley Wickham]((http://hadley.nz/)


Use Hadleys book. It's available online. [(link)](http://bit.ly/wickham_r4ds))

Use online resources. They are freely available online.   
[(link to R Codeschool)](http://bit.ly/2nrWfHQ)
[(link to Software Carepentry)](http://bit.ly/2r9Z6Eu)

Read blogs. The R community is growing steadily.
[(link to R-Bloggers)](http://bit.ly/2qrHrqI)

Get help!
[(link to Stack Overflow)](http://bit.ly/2rLnvmm)

Ask questions on our very own Slack channel.
[(link to Slack)](http://bit.ly/rtisticslack)


---
## Motivation
*** 
### Read some articles by other researchers

&gt; “You need to learn how to talk to R so you can do some basic things before you get to the cool modelling.” - [Auriel Fournier](http://bit.ly/2r9RgdJ)

&gt; For example, scientists need to be comfortable opening and creating data files or creating subsets of data before starting to run analyses. - [Monya Baker (Scientific computing: Code alert)](http://go.nature.com/2qtEXXL)


---
## Motivation
***
### Definitely read this one!

![better science](figures/better-science-less-time.png)

[link](http://go.nature.com/2rciLWm)

---
## Learn tricks
***
### Keyboard shortcuts for today

.big[cmd (ctrl) + shift + M]  

.big[alt + -] 

.big[ctrl + 1] 

.big[ctrl + 2] 

Now press Alt-Shift-K

---
class: inverse, middle, center

.superlarge[Coding basics]


---
## Coding basics
***
### Use R as a calculator

You can use R as a calculator. Type some commands into the console.


```r
10 * 35 / 20 
```

```
## [1] 17.5
```

--


```r
(10 + 50 + 4.5) * 80 / 10
```

```
## [1] 516
```

--


```r
sin(pi / 2)
```

```
## [1] 1
```


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Coding basics
***
### Create objects with &lt;-


```r
x &lt;- sqrt(64)
```

`object_name &lt;- value`

This is an assingment statement. You can read it as "object name gets value".

--

**Remember the shortcut: alt + -** 


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]


---
## Coding basics
***
### Object names

- must start with a letter, 
- can only contain letters, numbers, _ and ., 
- should be descriptive,
- and therefore require a convention for multiple words

    i_use_snake_case  
    otherPeopleUseCamelCase  
    some.people-use.periods  
    And_aFew.People_RENOUNCEconventions  
    

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Auto-complete
***
### Inspect an object

Make another object


```r
this_is_a_very_long_name &lt;- 2.5
```

Now, type "this" into the Console and then press Tab.


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Be precise
***
### Make another object


```r
r_is_cool &lt;- 10 ^ 5
```

Inspect it:

`R_is_cool` 

`r_is_coll`

--

Case matters. Typos matter.


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Calling Functions
***
### 

R has a large collection of built-in functions that are called like this:

`function_name(arg1 = val1, arg2 = val2)`


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]


---
## Calling Functions
***
### seq()

- Type `se` into the Console and hit Tab.

--


```r
seq(1, 10)
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10
```


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Making assingments
***
### 

If you make an assignment, then you don't see the value. 


```r
y &lt;- seq(1, 10, length.out = 5)
```

--

Double-check the result by typing the object name and hit enter.


```r
y
```

```
## [1]  1.00  3.25  5.50  7.75 10.00
```


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Environment
***
### Check it out

![](figures/global-environment.png)


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
class: inverse, middle, center

.superlarge[Software versions]

---
## Software versions
***
### Check your versions

What's your version of:

- `R`
- `RStudio`
- `tidyverse`
- `dplyr`

---
## Software versions
***
### Check your versions



```r
R.version   # type this into the console
```

```
##                _                           
## platform       x86_64-pc-linux-gnu         
## arch           x86_64                      
## os             linux-gnu                   
## system         x86_64, linux-gnu           
## status                                     
## major          3                           
## minor          4.0                         
## year           2017                        
## month          04                          
## day            21                          
## svn rev        72570                       
## language       R                           
## version.string R version 3.4.0 (2017-04-21)
## nickname       You Stupid Darkness
```

---
## Software versions
***
### Check your versions

Reference RStudio in your work when you use it!


```r
# RStudio.Version()
```

---
## Software versions
***
### Check your versions


```r
installed.packages()
```

```
##               Package        
## ash           "ash"          
## assertthat    "assertthat"   
## backports     "backports"    
## base64enc     "base64enc"    
## BH            "BH"           
## bindr         "bindr"        
## bindrcpp      "bindrcpp"     
## bitops        "bitops"       
## blogdown      "blogdown"     
## bookdown      "bookdown"     
## boot          "boot"         
## brew          "brew"         
## broom         "broom"        
## Cairo         "Cairo"        
## cairoDevice   "cairoDevice"  
## caTools       "caTools"      
## cellranger    "cellranger"   
## cluster       "cluster"      
## colorspace    "colorspace"   
## crayon        "crayon"       
## crosstalk     "crosstalk"    
## curl          "curl"         
## data.table    "data.table"   
## DBI           "DBI"          
## devtools      "devtools"     
## dichromat     "dichromat"    
## digest        "digest"       
## doParallel    "doParallel"   
## downloader    "downloader"   
## dplyr         "dplyr"        
## DT            "DT"           
## evaluate      "evaluate"     
## extrafont     "extrafont"    
## extrafontdb   "extrafontdb"  
## ezknitr       "ezknitr"      
## flexdashboard "flexdashboard"
## forcats       "forcats"      
## foreach       "foreach"      
## foreign       "foreign"      
## formatR       "formatR"      
## gapminder     "gapminder"    
## ggplot2       "ggplot2"      
## git2r         "git2r"        
## glue          "glue"         
## gridBase      "gridBase"     
## gridExtra     "gridExtra"    
## gtable        "gtable"       
## haven         "haven"        
## hexbin        "hexbin"       
## highr         "highr"        
## hms           "hms"          
## htmltools     "htmltools"    
## htmlwidgets   "htmlwidgets"  
## httpuv        "httpuv"       
## httr          "httr"         
## igraph        "igraph"       
## influenceR    "influenceR"   
## irlba         "irlba"        
## iterators     "iterators"    
## jsonlite      "jsonlite"     
## knitr         "knitr"        
## labeling      "labeling"     
##               LibPath                                           Version   
## ash           "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.0-15"  
## assertthat    "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.2.0"   
## backports     "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.1.0"   
## base64enc     "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.1-3"   
## BH            "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.62.0-1"
## bindr         "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.1"     
## bindrcpp      "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.1"     
## bitops        "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.0-6"   
## blogdown      "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.0.41"  
## bookdown      "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.4"     
## boot          "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.3-19"  
## brew          "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.0-6"   
## broom         "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.4.2"   
## Cairo         "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.5-9"   
## cairoDevice   "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "2.24"    
## caTools       "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.17.1"  
## cellranger    "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.1.0"   
## cluster       "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "2.0.6"   
## colorspace    "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.3-2"   
## crayon        "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.3.2"   
## crosstalk     "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.0.0"   
## curl          "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "2.6"     
## data.table    "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.10.4"  
## DBI           "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.6-1"   
## devtools      "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.13.2"  
## dichromat     "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "2.0-0"   
## digest        "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.6.12"  
## doParallel    "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.0.10"  
## downloader    "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.4"     
## dplyr         "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.7.0"   
## DT            "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.2"     
## evaluate      "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.10"    
## extrafont     "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.17"    
## extrafontdb   "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.0"     
## ezknitr       "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.6.1"   
## flexdashboard "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.5"     
## forcats       "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.2.0"   
## foreach       "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.4.3"   
## foreign       "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.8-68"  
## formatR       "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.5"     
## gapminder     "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.2.0"   
## ggplot2       "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "2.2.1"   
## git2r         "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.18.0"  
## glue          "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.1.0"   
## gridBase      "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.4-7"   
## gridExtra     "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "2.2.1"   
## gtable        "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.2.0"   
## haven         "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.0.0"   
## hexbin        "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.27.1"  
## highr         "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.6"     
## hms           "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.3"     
## htmltools     "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.3.6"   
## htmlwidgets   "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.8"     
## httpuv        "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.3.3"   
## httr          "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.2.1"   
## igraph        "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.0.1"   
## influenceR    "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.1.0"   
## irlba         "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "2.2.1"   
## iterators     "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.0.8"   
## jsonlite      "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.5"     
## knitr         "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "1.16"    
## labeling      "/home/larnsce/R/x86_64-pc-linux-gnu-library/3.4" "0.3"     
##               Priority     
## ash           NA           
## assertthat    NA           
## backports     NA           
## base64enc     NA           
## BH            NA           
## bindr         NA           
## bindrcpp      NA           
## bitops        NA           
## blogdown      NA           
## bookdown      NA           
## boot          "recommended"
## brew          NA           
## broom         NA           
## Cairo         NA           
## cairoDevice   NA           
## caTools       NA           
## cellranger    NA           
## cluster       "recommended"
## colorspace    NA           
## crayon        NA           
## crosstalk     NA           
## curl          NA           
## data.table    NA           
## DBI           NA           
## devtools      NA           
## dichromat     NA           
## digest        NA           
## doParallel    NA           
## downloader    NA           
## dplyr         NA           
## DT            NA           
## evaluate      NA           
## extrafont     NA           
## extrafontdb   NA           
## ezknitr       NA           
## flexdashboard NA           
## forcats       NA           
## foreach       NA           
## foreign       "recommended"
## formatR       NA           
## gapminder     NA           
## ggplot2       NA           
## git2r         NA           
## glue          NA           
## gridBase      NA           
## gridExtra     NA           
## gtable        NA           
## haven         NA           
## hexbin        NA           
## highr         NA           
## hms           NA           
## htmltools     NA           
## htmlwidgets   NA           
## httpuv        NA           
## httr          NA           
## igraph        NA           
## influenceR    NA           
## irlba         NA           
## iterators     NA           
## jsonlite      NA           
## knitr         NA           
## labeling      NA           
##               Depends                                                                                    
## ash           NA                                                                                         
## assertthat    NA                                                                                         
## backports     "R (&gt;= 3.0.0)"                                                                             
## base64enc     "R (&gt;= 2.9.0)"                                                                             
## BH            NA                                                                                         
## bindr         NA                                                                                         
## bindrcpp      NA                                                                                         
## bitops        NA                                                                                         
## blogdown      NA                                                                                         
## bookdown      NA                                                                                         
## boot          "R (&gt;= 3.0.0), graphics, stats"                                                            
## brew          NA                                                                                         
## broom         NA                                                                                         
## Cairo         "R (&gt;= 2.4.0)"                                                                             
## cairoDevice   "R (&gt;= 2.12.0)"                                                                            
## caTools       "R (&gt;= 2.2.0)"                                                                             
## cellranger    "R (&gt;= 3.0.0)"                                                                             
## cluster       "R (&gt;= 3.0.1)"                                                                             
## colorspace    "R (&gt;= 2.13.0), methods"                                                                   
## crayon        NA                                                                                         
## crosstalk     NA                                                                                         
## curl          "R (&gt;= 3.0.0)"                                                                             
## data.table    "R (&gt;= 3.0.0)"                                                                             
## DBI           "R (&gt;= 2.15.0), methods"                                                                   
## devtools      "R (&gt;= 3.0.2)"                                                                             
## dichromat     "R (&gt;= 2.10), stats"                                                                       
## digest        "R (&gt;= 2.4.1)"                                                                             
## doParallel    "R (&gt;= 2.14.0), foreach(&gt;= 1.2.0), iterators(&gt;= 1.0.0),\nparallel, utils"                  
## downloader    NA                                                                                         
## dplyr         "R (&gt;= 3.1.2)"                                                                             
## DT            NA                                                                                         
## evaluate      "R (&gt;= 3.0.2)"                                                                             
## extrafont     "R (&gt;= 2.15)"                                                                              
## extrafontdb   "R (&gt;= 2.14)"                                                                              
## ezknitr       "R (&gt;= 3.0.2)"                                                                             
## flexdashboard "R (&gt;= 3.0.2)"                                                                             
## forcats       "R (&gt;= 2.10)"                                                                              
## foreach       "R (&gt;= 2.5.0)"                                                                             
## foreign       "R (&gt;= 3.0.0)"                                                                             
## formatR       "R (&gt;= 3.0.2)"                                                                             
## gapminder     "R (&gt;= 3.1.0)"                                                                             
## ggplot2       "R (&gt;= 3.1)"                                                                               
## git2r         "R (&gt;= 3.0.2), methods"                                                                    
## glue          "R (&gt;= 3.0.0)"                                                                             
## gridBase      "R (&gt;= 2.3.0)"                                                                             
## gridExtra     NA                                                                                         
## gtable        "R (&gt;= 2.14)"                                                                              
## haven         "R (&gt;= 3.1.0)"                                                                             
## hexbin        "R (&gt;= 2.10), methods"                                                                     
## highr         "R (&gt;= 3.0.2)"                                                                             
## hms           NA                                                                                         
## htmltools     "R (&gt;= 2.14.1)"                                                                            
## htmlwidgets   NA                                                                                         
## httpuv        "R (&gt;= 2.15.1), methods"                                                                   
## httr          "R (&gt;= 3.0.0)"                                                                             
## igraph        "methods"                                                                                  
## influenceR    "R (&gt;= 3.2.0)"                                                                             
## irlba         "Matrix"                                                                                   
## iterators     "R (&gt;= 2.5.0), utils"                                                                      
## jsonlite      "methods"                                                                                  
## knitr         "R (&gt;= 3.1.0)"                                                                             
## labeling      NA                                                                                         
##               Imports                                                                                                                                                                                                     
## ash           NA                                                                                                                                                                                                          
## assertthat    "tools"                                                                                                                                                                                                     
## backports     "utils"                                                                                                                                                                                                     
## base64enc     NA                                                                                                                                                                                                          
## BH            NA                                                                                                                                                                                                          
## bindr         NA                                                                                                                                                                                                          
## bindrcpp      "Rcpp, bindr"                                                                                                                                                                                               
## bitops        NA                                                                                                                                                                                                          
## blogdown      "rmarkdown,\nbookdown (&gt;= 0.4),\nknitr,\nhtmltools,\nyaml (&gt;= 2.1.14),\nhttpuv,\nservr (&gt;= 0.4.1)"                                                                                                          
## bookdown      "htmltools (&gt;= 0.3.5), knitr (&gt;= 1.16), rmarkdown (&gt;= 0.9.6),\nyaml (&gt;= 2.1.14)"                                                                                                                            
## boot          NA                                                                                                                                                                                                          
## brew          NA                                                                                                                                                                                                          
## broom         "plyr, dplyr, tidyr, psych, stringr, reshape2, nlme, methods"                                                                                                                                               
## Cairo         "grDevices, graphics"                                                                                                                                                                                       
## cairoDevice   "grDevices"                                                                                                                                                                                                 
## caTools       "bitops"                                                                                                                                                                                                    
## cellranger    "rematch, tibble"                                                                                                                                                                                           
## cluster       "graphics, grDevices, stats, utils"                                                                                                                                                                         
## colorspace    "graphics, grDevices"                                                                                                                                                                                       
## crayon        "grDevices, methods, utils"                                                                                                                                                                                 
## crosstalk     "htmltools (&gt;= 0.3.5), jsonlite, lazyeval, R6, shiny (&gt;= 0.11),\nggplot2"                                                                                                                                   
## curl          NA                                                                                                                                                                                                          
## data.table    "methods"                                                                                                                                                                                                   
## DBI           NA                                                                                                                                                                                                          
## devtools      "httr (&gt;= 0.4), utils, tools, methods, memoise (&gt;= 1.0.0),\nwhisker, digest, rstudioapi (&gt;= 0.2.0), jsonlite, stats, git2r\n(&gt;= 0.11.0), withr"                                                             
## dichromat     NA                                                                                                                                                                                                          
## digest        NA                                                                                                                                                                                                          
## doParallel    NA                                                                                                                                                                                                          
## downloader    "utils, digest"                                                                                                                                                                                             
## dplyr         "assertthat, bindrcpp, glue, magrittr, methods, pkgconfig,\nrlang (&gt;= 0.1), R6, Rcpp (&gt;= 0.12.6), tibble (&gt;= 1.3.1), utils"                                                                                 
## DT            "htmltools (&gt;= 0.3.5), htmlwidgets (&gt;= 0.6), magrittr"                                                                                                                                                      
## evaluate      "methods, stringr (&gt;= 0.6.2)"                                                                                                                                                                               
## extrafont     "extrafontdb, grDevices, utils, Rttf2pt1"                                                                                                                                                                   
## extrafontdb   NA                                                                                                                                                                                                          
## ezknitr       "knitr (&gt;= 1.7),\nmarkdown (&gt;= 0.7),\nR.utils (&gt;= 1.34.0)"                                                                                                                                                  
## flexdashboard "tools, jsonlite, htmltools, knitr (&gt;= 1.13), htmlwidgets (&gt;=\n0.6), rmarkdown (&gt;= 1.0), shiny (&gt;= 0.13)"                                                                                                   
## forcats       "tibble, magrittr"                                                                                                                                                                                          
## foreach       "codetools, utils, iterators"                                                                                                                                                                               
## foreign       "methods, utils, stats"                                                                                                                                                                                     
## formatR       NA                                                                                                                                                                                                          
## gapminder     NA                                                                                                                                                                                                          
## ggplot2       "digest, grid, gtable (&gt;= 0.1.1), MASS, plyr (&gt;= 1.7.1),\nreshape2, scales (&gt;= 0.4.1), stats, tibble, lazyeval"                                                                                             
## git2r         "graphics, utils"                                                                                                                                                                                           
## glue          "methods"                                                                                                                                                                                                   
## gridBase      "graphics, grid"                                                                                                                                                                                            
## gridExtra     "gtable, grid, grDevices, graphics, utils"                                                                                                                                                                  
## gtable        "grid"                                                                                                                                                                                                      
## haven         "Rcpp (&gt;= 0.11.4), readr (&gt;= 0.1.0), hms, tibble"                                                                                                                                                           
## hexbin        "lattice, grid, graphics, grDevices, stats, utils"                                                                                                                                                          
## highr         NA                                                                                                                                                                                                          
## hms           "methods"                                                                                                                                                                                                   
## htmltools     "utils, digest, Rcpp"                                                                                                                                                                                       
## htmlwidgets   "htmltools (&gt;= 0.3), jsonlite (&gt;= 0.9.16), yaml"                                                                                                                                                            
## httpuv        "Rcpp (&gt;= 0.11.0), utils"                                                                                                                                                                                   
## httr          "jsonlite, mime, curl (&gt;= 0.9.1), openssl (&gt;= 0.8), R6"                                                                                                                                                     
## igraph        "Matrix, magrittr, NMF, irlba"                                                                                                                                                                              
## influenceR    "igraph (&gt;= 1.0.1), Matrix (&gt;= 1.1-4), methods, utils"                                                                                                                                                      
## irlba         "stats, methods"                                                                                                                                                                                            
## iterators     NA                                                                                                                                                                                                          
## jsonlite      NA                                                                                                                                                                                                          
## knitr         "evaluate (&gt;= 0.10), digest, highr, markdown, stringr (&gt;= 0.6),\nyaml, methods, tools"                                                                                                                      
## labeling      NA                                                                                                                                                                                                          
##               LinkingTo                                            
## ash           NA                                                   
## assertthat    NA                                                   
## backports     NA                                                   
## base64enc     NA                                                   
## BH            NA                                                   
## bindr         NA                                                   
## bindrcpp      "Rcpp, plogr"                                        
## bitops        NA                                                   
## blogdown      NA                                                   
## bookdown      NA                                                   
## boot          NA                                                   
## brew          NA                                                   
## broom         NA                                                   
## Cairo         NA                                                   
## cairoDevice   NA                                                   
## caTools       NA                                                   
## cellranger    NA                                                   
## cluster       NA                                                   
## colorspace    NA                                                   
## crayon        NA                                                   
## crosstalk     NA                                                   
## curl          NA                                                   
## data.table    NA                                                   
## DBI           NA                                                   
## devtools      NA                                                   
## dichromat     NA                                                   
## digest        NA                                                   
## doParallel    NA                                                   
## downloader    NA                                                   
## dplyr         "Rcpp (&gt;= 0.12.0), BH (&gt;= 1.58.0-1), bindrcpp, plogr"
## DT            NA                                                   
## evaluate      NA                                                   
## extrafont     NA                                                   
## extrafontdb   NA                                                   
## ezknitr       NA                                                   
## flexdashboard NA                                                   
## forcats       NA                                                   
## foreach       NA                                                   
## foreign       NA                                                   
## formatR       NA                                                   
## gapminder     NA                                                   
## ggplot2       NA                                                   
## git2r         NA                                                   
## glue          NA                                                   
## gridBase      NA                                                   
## gridExtra     NA                                                   
## gtable        NA                                                   
## haven         "Rcpp, BH"                                           
## hexbin        NA                                                   
## highr         NA                                                   
## hms           NA                                                   
## htmltools     "Rcpp"                                               
## htmlwidgets   NA                                                   
## httpuv        "Rcpp"                                               
## httr          NA                                                   
## igraph        NA                                                   
## influenceR    NA                                                   
## irlba         "Matrix"                                             
## iterators     NA                                                   
## jsonlite      NA                                                   
## knitr         NA                                                   
## labeling      NA                                                   
##               Suggests                                                                                                                                                                                                                                                                                                                                                                         
## ash           NA                                                                                                                                                                                                                                                                                                                                                                               
## assertthat    "testthat"                                                                                                                                                                                                                                                                                                                                                                       
## backports     NA                                                                                                                                                                                                                                                                                                                                                                               
## base64enc     NA                                                                                                                                                                                                                                                                                                                                                                               
## BH            NA                                                                                                                                                                                                                                                                                                                                                                               
## bindr         "testthat"                                                                                                                                                                                                                                                                                                                                                                       
## bindrcpp      "testthat"                                                                                                                                                                                                                                                                                                                                                                       
## bitops        NA                                                                                                                                                                                                                                                                                                                                                                               
## blogdown      "testit,\nshiny,\nminiUI,\nRcppTOML,\nrprojroot,\nrstudioapi"                                                                                                                                                                                                                                                                                                                    
## bookdown      "htmlwidgets, rstudioapi, miniUI, rsconnect (&gt;= 0.4.3), servr\n(&gt;= 0.3), shiny, testit (&gt;= 0.5), tufte, webshot"                                                                                                                                                                                                                                                                 
## boot          "MASS, survival"                                                                                                                                                                                                                                                                                                                                                                 
## brew          NA                                                                                                                                                                                                                                                                                                                                                                               
## broom         "knitr, boot, survival, gam, glmnet, lfe, Lahman, MASS, sp,\nmaps, maptools, multcomp, testthat, lme4, zoo, lmtest, plm,\nbiglm, ggplot2, nnet, geepack, AUC, ergm, network,\nstatnet.common, xergm, btergm, binGroup, Hmisc, bbmle, gamlss,\nrstan, rstanarm, brms, coda, gmm, Matrix, ks, purrr, orcutt,\nmgcv, lmodel2, poLCA, mclust, covr, lsmeans, betareg, robust,\nakima"
## Cairo         "png"                                                                                                                                                                                                                                                                                                                                                                            
## cairoDevice   NA                                                                                                                                                                                                                                                                                                                                                                               
## caTools       "MASS, rpart"                                                                                                                                                                                                                                                                                                                                                                    
## cellranger    "covr, testthat (&gt;= 1.0.0), knitr, rmarkdown"                                                                                                                                                                                                                                                                                                                                    
## cluster       "MASS"                                                                                                                                                                                                                                                                                                                                                                           
## colorspace    "datasets, stats, utils, KernSmooth, MASS, kernlab, mvtnorm,\nvcd, dichromat, tcltk, shiny, shinyjs"                                                                                                                                                                                                                                                                             
## crayon        "testthat"                                                                                                                                                                                                                                                                                                                                                                       
## crosstalk     NA                                                                                                                                                                                                                                                                                                                                                                               
## curl          "testthat (&gt;= 1.0.0), knitr, jsonlite, rmarkdown, magrittr,\nhttpuv, webutils"                                                                                                                                                                                                                                                                                                   
## data.table    "bit64, knitr, nanotime, chron, ggplot2 (&gt;= 0.9.0), plyr,\nreshape, reshape2, testthat (&gt;= 0.4), hexbin, fastmatch, nlme,\nxts, gdata, GenomicRanges, caret, curl, zoo, plm, rmarkdown,\nparallel"                                                                                                                                                                               
## DBI           "covr, hms, knitr, magrittr, rprojroot, rmarkdown, RSQLite (&gt;=\n1.1-2), testthat, xml2"                                                                                                                                                                                                                                                                                          
## devtools      "curl (&gt;= 0.9), crayon, testthat (&gt;= 1.0.2), BiocInstaller,\nRcpp (&gt;= 0.10.0), MASS, rmarkdown, knitr, hunspell (&gt;= 2.0),\nlintr (&gt;= 0.2.1), bitops, roxygen2 (&gt;= 5.0.0), evaluate,\nrversions, covr, gmailr (&gt; 0.7.0)"                                                                                                                                                          
## dichromat     NA                                                                                                                                                                                                                                                                                                                                                                               
## digest        "knitr, rmarkdown"                                                                                                                                                                                                                                                                                                                                                               
## doParallel    "caret, mlbench, rpart"                                                                                                                                                                                                                                                                                                                                                          
## downloader    "testthat"                                                                                                                                                                                                                                                                                                                                                                       
## dplyr         "bit64, covr, dbplyr, dtplyr, DBI, ggplot2, hms, knitr, Lahman\n(&gt;= 3.0-1), mgcv, microbenchmark, nycflights13, rmarkdown,\nRMySQL, RPostgreSQL, RSQLite, testthat, withr"                                                                                                                                                                                                       
## DT            "jsonlite (&gt;= 0.9.16), knitr (&gt;= 1.8), rmarkdown, shiny (&gt;=\n0.12.1)"                                                                                                                                                                                                                                                                                                            
## evaluate      "testthat, lattice, ggplot2"                                                                                                                                                                                                                                                                                                                                                     
## extrafont     "fontcm"                                                                                                                                                                                                                                                                                                                                                                         
## extrafontdb   NA                                                                                                                                                                                                                                                                                                                                                                               
## ezknitr       "testthat (&gt;= 0.9.1),\nrmarkdown"                                                                                                                                                                                                                                                                                                                                                
## flexdashboard "testthat"                                                                                                                                                                                                                                                                                                                                                                       
## forcats       "ggplot2, testthat, covr"                                                                                                                                                                                                                                                                                                                                                        
## foreach       "randomForest"                                                                                                                                                                                                                                                                                                                                                                   
## foreign       NA                                                                                                                                                                                                                                                                                                                                                                               
## formatR       "codetools, shiny, testit, rmarkdown, knitr"                                                                                                                                                                                                                                                                                                                                     
## gapminder     "dplyr, ggplot2, testthat"                                                                                                                                                                                                                                                                                                                                                       
## ggplot2       "covr, ggplot2movies, hexbin, Hmisc, lattice, mapproj, maps,\nmaptools, mgcv, multcomp, nlme, testthat (&gt;= 0.11.0), quantreg,\nknitr, rpart, rmarkdown, svglite"                                                                                                                                                                                                                 
## git2r         "getPass"                                                                                                                                                                                                                                                                                                                                                                        
## glue          "testthat, covr, magrittr"                                                                                                                                                                                                                                                                                                                                                       
## gridBase      "lattice"                                                                                                                                                                                                                                                                                                                                                                        
## gridExtra     "ggplot2, lattice, knitr, testthat"                                                                                                                                                                                                                                                                                                                                              
## gtable        "testthat, covr"                                                                                                                                                                                                                                                                                                                                                                 
## haven         "testthat, knitr, rmarkdown, covr"                                                                                                                                                                                                                                                                                                                                               
## hexbin        "marray, affy, Biobase, limma"                                                                                                                                                                                                                                                                                                                                                   
## highr         "knitr, testit"                                                                                                                                                                                                                                                                                                                                                                  
## hms           "testthat, lubridate"                                                                                                                                                                                                                                                                                                                                                            
## htmltools     "markdown, testthat"                                                                                                                                                                                                                                                                                                                                                             
## htmlwidgets   "knitr (&gt;= 1.8)"                                                                                                                                                                                                                                                                                                                                                                 
## httpuv        NA                                                                                                                                                                                                                                                                                                                                                                               
## httr          "httpuv, jpeg, knitr, png, testthat (&gt;= 0.8.0), readr, xml2,\nrmarkdown"                                                                                                                                                                                                                                                                                                         
## igraph        "igraphdata, stats4, rgl, tcltk, graph, ape, scales"                                                                                                                                                                                                                                                                                                                             
## influenceR    "testthat"                                                                                                                                                                                                                                                                                                                                                                       
## irlba         NA                                                                                                                                                                                                                                                                                                                                                                               
## iterators     "RUnit"                                                                                                                                                                                                                                                                                                                                                                          
## jsonlite      "httr, curl, plyr, testthat, knitr, rmarkdown, R.rsp, sp"                                                                                                                                                                                                                                                                                                                        
## knitr         "formatR, testit, rgl (&gt;= 0.95.1201), codetools, rmarkdown,\nhtmlwidgets (&gt;= 0.7), webshot, tikzDevice (&gt;= 0.10), png, jpeg,\nXML, RCurl, DBI (&gt;= 0.4-1), tibble"                                                                                                                                                                                                                
## labeling      NA                                                                                                                                                                                                                                                                                                                                                                               
##               Enhances                                                       
## ash           NA                                                             
## assertthat    NA                                                             
## backports     NA                                                             
## base64enc     "png"                                                          
## BH            NA                                                             
## bindr         NA                                                             
## bindrcpp      NA                                                             
## bitops        NA                                                             
## blogdown      NA                                                             
## bookdown      NA                                                             
## boot          NA                                                             
## brew          NA                                                             
## broom         NA                                                             
## Cairo         "FastRWeb"                                                     
## cairoDevice   NA                                                             
## caTools       NA                                                             
## cellranger    NA                                                             
## cluster       NA                                                             
## colorspace    NA                                                             
## crayon        NA                                                             
## crosstalk     NA                                                             
## curl          NA                                                             
## data.table    NA                                                             
## DBI           NA                                                             
## devtools      NA                                                             
## dichromat     NA                                                             
## digest        NA                                                             
## doParallel    "compiler, RUnit"                                              
## downloader    NA                                                             
## dplyr         NA                                                             
## DT            NA                                                             
## evaluate      NA                                                             
## extrafont     NA                                                             
## extrafontdb   NA                                                             
## ezknitr       NA                                                             
## flexdashboard NA                                                             
## forcats       NA                                                             
## foreach       "compiler, doMC, RUnit, doParallel"                            
## foreign       NA                                                             
## formatR       NA                                                             
## gapminder     NA                                                             
## ggplot2       "sp"                                                           
## git2r         NA                                                             
## glue          NA                                                             
## gridBase      NA                                                             
## gridExtra     NA                                                             
## gtable        NA                                                             
## haven         NA                                                             
## hexbin        NA                                                             
## highr         NA                                                             
## hms           NA                                                             
## htmltools     "knitr"                                                        
## htmlwidgets   "shiny (&gt;= 0.12)"                                              
## httpuv        NA                                                             
## httr          NA                                                             
## igraph        NA                                                             
## influenceR    NA                                                             
## irlba         NA                                                             
## iterators     NA                                                             
## jsonlite      NA                                                             
## knitr         NA                                                             
## labeling      NA                                                             
##               License                          License_is_FOSS
## ash           "GPL (&gt;= 2)"                     NA             
## assertthat    "GPL-3"                          NA             
## backports     "GPL-2"                          NA             
## base64enc     "GPL-2 | GPL-3"                  NA             
## BH            "BSL-1.0"                        NA             
## bindr         "MIT + file LICENSE"             NA             
## bindrcpp      "MIT + file LICENSE"             NA             
## bitops        "GPL (&gt;= 2)"                     NA             
## blogdown      "GPL-3"                          NA             
## bookdown      "GPL-3"                          NA             
## boot          "Unlimited"                      NA             
## brew          "GPL-2"                          NA             
## broom         "MIT + file LICENSE"             NA             
## Cairo         "GPL-2"                          NA             
## cairoDevice   "GPL"                            NA             
## caTools       "GPL-3"                          NA             
## cellranger    "MIT + file LICENSE"             NA             
## cluster       "GPL (&gt;= 2)"                     NA             
## colorspace    "BSD_3_clause + file LICENSE"    NA             
## crayon        "MIT + file LICENSE"             NA             
## crosstalk     "MIT + file LICENSE"             NA             
## curl          "MIT + file LICENSE"             NA             
## data.table    "GPL-3 | file LICENSE"           NA             
## DBI           "LGPL (&gt;= 2)"                    NA             
## devtools      "GPL (&gt;= 2)"                     NA             
## dichromat     "GPL-2"                          NA             
## digest        "GPL (&gt;= 2)"                     NA             
## doParallel    "GPL-2"                          NA             
## downloader    "GPL-2"                          NA             
## dplyr         "MIT + file LICENSE"             NA             
## DT            "GPL-3 | file LICENSE"           NA             
## evaluate      "MIT + file LICENSE"             NA             
## extrafont     "GPL-2"                          NA             
## extrafontdb   "GPL-2"                          NA             
## ezknitr       "MIT + file LICENSE"             NA             
## flexdashboard "MIT + file LICENSE"             NA             
## forcats       "GPL-3"                          NA             
## foreach       "Apache License (== 2.0)"        NA             
## foreign       "GPL (&gt;= 2)"                     NA             
## formatR       "GPL"                            NA             
## gapminder     "CC0"                            NA             
## ggplot2       "GPL-2 | file LICENSE"           NA             
## git2r         "GPL-2"                          NA             
## glue          "MIT + file LICENSE"             NA             
## gridBase      "GPL"                            NA             
## gridExtra     "GPL (&gt;= 2)"                     NA             
## gtable        "GPL-2"                          NA             
## haven         "MIT + file LICENSE"             NA             
## hexbin        "GPL-2"                          NA             
## highr         "GPL"                            NA             
## hms           "GPL-3"                          NA             
## htmltools     "GPL (&gt;= 2)"                     NA             
## htmlwidgets   "MIT + file LICENSE"             NA             
## httpuv        "GPL-3 | file LICENSE"           NA             
## httr          "MIT + file LICENSE"             NA             
## igraph        "GPL (&gt;= 2)"                     NA             
## influenceR    "GPL-2"                          NA             
## irlba         "GPL-3"                          NA             
## iterators     "Apache License (== 2.0)"        NA             
## jsonlite      "MIT + file LICENSE"             NA             
## knitr         "GPL"                            NA             
## labeling      "MIT + file LICENSE | Unlimited" NA             
##               License_restricts_use OS_type MD5sum NeedsCompilation
## ash           NA                    NA      NA     "yes"           
## assertthat    NA                    NA      NA     "no"            
## backports     NA                    NA      NA     "no"            
## base64enc     NA                    NA      NA     "yes"           
## BH            NA                    NA      NA     "no"            
## bindr         NA                    NA      NA     "no"            
## bindrcpp      NA                    NA      NA     "yes"           
## bitops        NA                    NA      NA     "yes"           
## blogdown      NA                    NA      NA     NA              
## bookdown      NA                    NA      NA     "no"            
## boot          NA                    NA      NA     "no"            
## brew          NA                    NA      NA     NA              
## broom         NA                    NA      NA     "no"            
## Cairo         NA                    NA      NA     "yes"           
## cairoDevice   NA                    NA      NA     "yes"           
## caTools       NA                    NA      NA     "yes"           
## cellranger    NA                    NA      NA     "no"            
## cluster       NA                    NA      NA     "yes"           
## colorspace    NA                    NA      NA     "yes"           
## crayon        NA                    NA      NA     "no"            
## crosstalk     NA                    NA      NA     "no"            
## curl          NA                    NA      NA     "yes"           
## data.table    NA                    NA      NA     "yes"           
## DBI           NA                    NA      NA     "no"            
## devtools      NA                    NA      NA     "no"            
## dichromat     NA                    NA      NA     NA              
## digest        NA                    NA      NA     "yes"           
## doParallel    NA                    NA      NA     "no"            
## downloader    NA                    NA      NA     "no"            
## dplyr         NA                    NA      NA     "yes"           
## DT            NA                    NA      NA     "no"            
## evaluate      NA                    NA      NA     "no"            
## extrafont     NA                    NA      NA     "no"            
## extrafontdb   NA                    NA      NA     NA              
## ezknitr       NA                    NA      NA     NA              
## flexdashboard NA                    NA      NA     "no"            
## forcats       NA                    NA      NA     "no"            
## foreach       NA                    NA      NA     "no"            
## foreign       NA                    NA      NA     "yes"           
## formatR       NA                    NA      NA     "no"            
## gapminder     NA                    NA      NA     "no"            
## ggplot2       NA                    NA      NA     "no"            
## git2r         NA                    NA      NA     "yes"           
## glue          NA                    NA      NA     "yes"           
## gridBase      NA                    NA      NA     "no"            
## gridExtra     NA                    NA      NA     "no"            
## gtable        NA                    NA      NA     "no"            
## haven         NA                    NA      NA     "yes"           
## hexbin        NA                    NA      NA     "yes"           
## highr         NA                    NA      NA     "no"            
## hms           NA                    NA      NA     "no"            
## htmltools     NA                    NA      NA     "yes"           
## htmlwidgets   NA                    NA      NA     "no"            
## httpuv        NA                    NA      NA     "yes"           
## httr          NA                    NA      NA     "no"            
## igraph        NA                    NA      NA     "yes"           
## influenceR    NA                    NA      NA     "yes"           
## irlba         NA                    NA      NA     "yes"           
## iterators     NA                    NA      NA     "no"            
## jsonlite      NA                    NA      NA     "yes"           
## knitr         NA                    NA      NA     "no"            
## labeling      NA                    NA      NA     "no"            
##               Built  
## ash           "3.4.0"
## assertthat    "3.4.0"
## backports     "3.4.0"
## base64enc     "3.4.0"
## BH            "3.4.0"
## bindr         "3.4.0"
## bindrcpp      "3.4.0"
## bitops        "3.4.0"
## blogdown      "3.4.0"
## bookdown      "3.4.0"
## boot          "3.4.0"
## brew          "3.4.0"
## broom         "3.4.0"
## Cairo         "3.4.0"
## cairoDevice   "3.4.0"
## caTools       "3.4.0"
## cellranger    "3.4.0"
## cluster       "3.4.0"
## colorspace    "3.4.0"
## crayon        "3.4.0"
## crosstalk     "3.4.0"
## curl          "3.4.0"
## data.table    "3.4.0"
## DBI           "3.4.0"
## devtools      "3.4.0"
## dichromat     "3.4.0"
## digest        "3.4.0"
## doParallel    "3.4.0"
## downloader    "3.4.0"
## dplyr         "3.4.0"
## DT            "3.4.0"
## evaluate      "3.4.0"
## extrafont     "3.4.0"
## extrafontdb   "3.4.0"
## ezknitr       "3.4.0"
## flexdashboard "3.4.0"
## forcats       "3.4.0"
## foreach       "3.4.0"
## foreign       "3.4.0"
## formatR       "3.4.0"
## gapminder     "3.4.0"
## ggplot2       "3.4.0"
## git2r         "3.4.0"
## glue          "3.4.0"
## gridBase      "3.4.0"
## gridExtra     "3.4.0"
## gtable        "3.4.0"
## haven         "3.4.0"
## hexbin        "3.4.0"
## highr         "3.4.0"
## hms           "3.4.0"
## htmltools     "3.4.0"
## htmlwidgets   "3.4.0"
## httpuv        "3.4.0"
## httr          "3.4.0"
## igraph        "3.4.0"
## influenceR    "3.4.0"
## irlba         "3.4.0"
## iterators     "3.4.0"
## jsonlite      "3.4.0"
## knitr         "3.4.0"
## labeling      "3.4.0"
##  [ reached getOption("max.print") -- omitted 101 rows ]
```


---
## Software versions
***
### Check your versions

![](figures/package-versions.png)

---
## Software versions
***
### Check your versions


```r
# list all packages where an update is available
old.packages()

# update all available packages
update.packages()

# update, without prompts for permission/clarification
update.packages(ask = FALSE)
```

---
class: inverse, middle, center

.superlarge[Data Transformation with `dplyr`]


---
## Data Transformation
***
### Prerequisites

- start a new R script or an R Markdown file (for those who are familiar)
- install the `nycflights13` package using the Console (`Crtl + 2`)
- load the `nycflights13` package into your R script
- install the `tidyverse` package using the Console
- load the `tidyverse` package into your R script


---
## nycflights13
***
### Explore a bit!

The data comes from the [US Bureau of Transportation Statistics](http://www.transtats.bts.gov/DatabaseInfo.asp?DB_ID=120&amp;Link=0).

- use `?flights` to access the help file of the dataset
- type `flights` into the console
- use `ggplot2` to make some graphs


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## nycflights13
***
### What have you explored?

.pull-left[
![](https://media.giphy.com/media/jYmGmDK3rKdkk/giphy.gif)
]

--

.pull-right[
![](https://media.giphy.com/media/GeaVJXMSDmIQU/giphy.gif)
]

.footnote[
Images taken from [https://giphy.com/](https://giphy.com/)
]


---
## nycflights13
***
### Dataset

What do you notice? What is unfimilar?


```
## # A tibble: 336,776 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
##  1  2013     1     1      517            515         2      830
##  2  2013     1     1      533            529         4      850
##  3  2013     1     1      542            540         2      923
##  4  2013     1     1      544            545        -1     1004
##  5  2013     1     1      554            600        -6      812
##  6  2013     1     1      554            558        -4      740
##  7  2013     1     1      555            600        -5      913
##  8  2013     1     1      557            600        -3      709
##  9  2013     1     1      557            600        -3      838
## 10  2013     1     1      558            600        -2      753
## # ... with 336,766 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
```


---
## nycflights13
***
### Types of Variables 

- `int` stands for integers
- `dbl` stands for doubles, or real numbers
- `chr` stands for character vectors, or strings
- `dttm` stands for date-times (a date + a time)

--

Three other common variables not used in this dataset:

- `lgl` stands for logical, vectors that contain only `TRUE` or `FALSE`
- `fctr` stands for factors, which R uses to represent categorical variables with fixed possible values
- `date` stands for dates


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]


---
## nycflights13
***
### Save the dataframe to your environment

--

For example:


```r
nycflights_df &lt;- flights
```


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
class: inverse, middle, center

.superlarge[Filter rows with filter()]

---
## dplyr Basics
***
### five key dplyr functions

--

- pick observations by their values with `filter()`
- reorder the rows with `arrange()`
- pick variables (columns) by their names with `select()`
- create new variables with functions of existing variables with `mutate()`
- collapes many values down to a single summary with `summary()`

--

These can be used in conjunction with `group_by`, which changes the scope of each function from operating on the entire dataset to operating on it group-by-group.


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## dplyr Basics
***
### filter rows with filter()

- subset observations based on their value


```r
filter(.data = nycflights_df, month == 1, day == 1)
```



```r
nycflights_df %&gt;% 
  filter(month == 1, day == 1)
```

```
## # A tibble: 842 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
##  1  2013     1     1      517            515         2      830
##  2  2013     1     1      533            529         4      850
##  3  2013     1     1      542            540         2      923
##  4  2013     1     1      544            545        -1     1004
##  5  2013     1     1      554            600        -6      812
##  6  2013     1     1      554            558        -4      740
##  7  2013     1     1      555            600        -5      913
##  8  2013     1     1      557            600        -3      709
##  9  2013     1     1      557            600        -3      838
## 10  2013     1     1      558            600        -2      753
## # ... with 832 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
```


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## nycflights13
***
### Save the new dataframe

For example:


```r
nycflights_df_0101 &lt;- nycflights_df %&gt;% 
  filter(month == 1, day == 1)
```


---
## nycflights13
***
### Exercise

.task[Filter the dataframe by JetBlue Airways and save the resulting dataframe as a new object.]

--

Subtasks:

- identify variable that identifies the airline
- look up which carrier code represents JetBluw Airways
- use `filter()` to subset the dataframe
- save resulting dataframe as a new object

---
## nycflights13
***
### Exercise


```r
?flights
?airlines
```


```r
airlines
```

```
## # A tibble: 16 x 2
##    carrier                        name
##      &lt;chr&gt;                       &lt;chr&gt;
##  1      9E           Endeavor Air Inc.
##  2      AA      American Airlines Inc.
##  3      AS        Alaska Airlines Inc.
##  4      B6             JetBlue Airways
##  5      DL        Delta Air Lines Inc.
##  6      EV    ExpressJet Airlines Inc.
##  7      F9      Frontier Airlines Inc.
##  8      FL AirTran Airways Corporation
##  9      HA      Hawaiian Airlines Inc.
## 10      MQ                   Envoy Air
## 11      OO       SkyWest Airlines Inc.
## 12      UA       United Air Lines Inc.
## 13      US             US Airways Inc.
## 14      VX              Virgin America
## 15      WN      Southwest Airlines Co.
## 16      YV          Mesa Airlines Inc.
```


---
## nycflights13
***
### Exercise

Note: Character variables have to be in parenthesis.


```r
nycflights_df %&gt;% 
  filter(carrier == "B6")
```


```r
nycflights_df_B6 &lt;- nycflights_df %&gt;% 
  filter(carrier == "B6")
```

---
## nycflights13
***
### Exercise

.task[
- Identify all flights departing from John F Kennedy Intl. Airport with the destination of Austin Bergstrom on April 1st 2013.]

--

.task[
- What was the total departure delay for those flights on that day?
]

---
## nycflights13
***
### Result

This is just one way of doing it.


```r
nycflights_df %&gt;% 
  filter(
    origin == "JFK",
    dest == "AUS",
    day == 1,
    month == 4
  ) 
```

```
## # A tibble: 4 x 19
##    year month   day dep_time sched_dep_time dep_delay arr_time
##   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
## 1  2013     4     1     1013            908        65     1325
## 2  2013     4     1     1704           1710        -6     2021
## 3  2013     4     1     1707           1655        12     2032
## 4  2013     4     1     2118           2040        38       36
## # ... with 12 more variables: sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;,
## #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,
## #   time_hour &lt;dttm&gt;
```


---
## Comparison operators
***
### R provides standard operators

- `&gt;` bigger 
- `&gt;=` bigger and equal
- `&lt;` smaller 
- `&lt;=` smaller and equal
- `!=` not equal
- `==` equal


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Comparison operators
***
### Common mistake

Type `filter(flights, month = 1)` into the console


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Comparison operators
***
### Another common problem: floating point numbers

What is the squareroot of 2?
What is 1 divided by 49?

--


```r
sqrt(2)
```

```
## [1] 1.414214
```


```r
1/49
```

```
## [1] 0.02040816
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Comparison operators
***
### Another common problem: floating point numbers

What is the squareroot of 2 by the power of 2?
What is 1 divided by 49 times 49?


```r
sqrt(2) ^ 2
```

```
## [1] 2
```


```r
1/49 * 49
```

```
## [1] 1
```


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Comparison operators
***
### Another common problem: floating point numbers

Now ask are R whether this result is actually true.

--


```r
sqrt(2) ^ 2 == 2
```

```
## [1] FALSE
```


```r
1/49 * 49 == 1
```

```
## [1] FALSE
```


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Comparison operators
***
### Keep in mind

- computers use finite precision arithmetic
- computers **cannot** store an infinite number of digits
- every number you see is an approximation


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Logical operators
***
### Multiple arguments in filter()

.big[Remember?]

Identify all flights departing from John F Kennedy Intl. Airport with the destination of Austin Bergstrom on April 1st 2013.

---
## Logical operators
***
### Multiple arguments in filter()

.big[Remember?]

Identify all flights departing from John F Kennedy Intl. Airport **and** with the destination of Austin Bergstrom **and** on April 1st 2013.

--

Every expression must be true in order for a row to be included in the output. Boolean operators need to be used by yourself for other types of combinations.


```r
nycflights_df %&gt;% 
  filter(
    origin == "JFK",
    dest == "AUS",
    day == 1,
    month == 4
  ) 
```


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Logical operators
***
### Boolean operators

`x` is the left-hand circle, `y` is the right-hand circle, and the shaded region show which parts each operator selects.

![](http://r4ds.had.co.nz/diagrams/transform-logical.png)


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Logical operators
***
### Boolean operators

The following code finds all flights that departed in November or December:



```r
filter(flights, month == 11 | month == 12)
```


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Logical operators
***
### Boolean operators: Be aware!

You cannot write the following to get to the same result.


```r
filter(flights, month == 11 | 12)
```

If you are interested why: read more [here](http://bit.ly/2sddvjD).

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Missing values
***

- in R missing values are shown as `NA` ("not availables")
- `NA` represents an unknown value
    - it is **not** `0`
- almost any operation involving an unknown value will also be unknown

--


```r
NA &gt; 5
```

```
## [1] NA
```

```r
10 == NA
```

```
## [1] NA
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Missing values
***
### Example

Let x be Mary's age. We don't know how old she is.


```r
x &lt;- NA
```

--

Let y be John's age. We don't know how old he is.


```r
y &lt;- NA
```

--

Are John and Mary the same age?


```r
x == y
```

```
## [1] NA
```

```r
# We don't know!
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Missing values
***
### is.na()

If you want to determine if a value is missing, use is.na():


```r
df &lt;- tibble(x = c(1, NA, 3))

is.na(df)
```

```
##          x
## [1,] FALSE
## [2,]  TRUE
## [3,] FALSE
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Missing values
***
### is.na()

- filter() only includes rows where the condition is `TRUE`
- filter excludes both `FALSE` and `NA` values


```r
filter(df, x &gt; 1)
```

```
## # A tibble: 1 x 1
##       x
##   &lt;dbl&gt;
## 1     3
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]



---
## Missing values
***
### is.na()

If you want to preserve missing values when using `filter()`, ask for them explicitly:


```r
filter(df, is.na(x) | x &gt; 1)
```

```
## # A tibble: 2 x 1
##       x
##   &lt;dbl&gt;
## 1    NA
## 2     3
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]


---
## Final exercise
***
### Tasks

1. Find all flights that
    1. Had an arrival delay of two or more hours
    2. Flew to Houston (IAH or HOU)
    3. Were operated by United, American, or Delta
    4. Arrived more than two hours late, but didn’t leave late
    5. Departed between midnight and 6am (inclusive)
 
.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Final exercise
***
### Solutions

Find all flights that had an arrival delay of two or more hours


```r
flights %&gt;% 
  filter(arr_delay &gt; 120)
```

```
## # A tibble: 10,034 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
##  1  2013     1     1      811            630       101     1047
##  2  2013     1     1      848           1835       853     1001
##  3  2013     1     1      957            733       144     1056
##  4  2013     1     1     1114            900       134     1447
##  5  2013     1     1     1505           1310       115     1638
##  6  2013     1     1     1525           1340       105     1831
##  7  2013     1     1     1549           1445        64     1912
##  8  2013     1     1     1558           1359       119     1718
##  9  2013     1     1     1732           1630        62     2028
## 10  2013     1     1     1803           1620       103     2008
## # ... with 10,024 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Final exercise
***
### Solutions

Find all flights that flew to Houston (IAH or HOU)



```r
flights %&gt;%
  filter(dest == "IAH" | dest == "HOU")
```

```
## # A tibble: 9,313 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
##  1  2013     1     1      517            515         2      830
##  2  2013     1     1      533            529         4      850
##  3  2013     1     1      623            627        -4      933
##  4  2013     1     1      728            732        -4     1041
##  5  2013     1     1      739            739         0     1104
##  6  2013     1     1      908            908         0     1228
##  7  2013     1     1     1028           1026         2     1350
##  8  2013     1     1     1044           1045        -1     1352
##  9  2013     1     1     1114            900       134     1447
## 10  2013     1     1     1205           1200         5     1503
## # ... with 9,303 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]


---
## Final exercise
***
### Solutions

Find all flights that were operated by United, American, or Delta.

The variable carrier has the airline: but it is in two-digit carrier codes. However, we can look it up in the `airlines` dataset.

--


```r
airlines
```

```
## # A tibble: 16 x 2
##    carrier                        name
##      &lt;chr&gt;                       &lt;chr&gt;
##  1      9E           Endeavor Air Inc.
##  2      AA      American Airlines Inc.
##  3      AS        Alaska Airlines Inc.
##  4      B6             JetBlue Airways
##  5      DL        Delta Air Lines Inc.
##  6      EV    ExpressJet Airlines Inc.
##  7      F9      Frontier Airlines Inc.
##  8      FL AirTran Airways Corporation
##  9      HA      Hawaiian Airlines Inc.
## 10      MQ                   Envoy Air
## 11      OO       SkyWest Airlines Inc.
## 12      UA       United Air Lines Inc.
## 13      US             US Airways Inc.
## 14      VX              Virgin America
## 15      WN      Southwest Airlines Co.
## 16      YV          Mesa Airlines Inc.
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Final exercise
***
### Solutions

Find all flights that were operated by United, American, or Delta.


```r
flights %&gt;%
  filter(
    carrier == "AA" | 
    carrier == "DL" | 
    carrier == "UA" 
    )
```

```
## # A tibble: 139,504 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
##  1  2013     1     1      517            515         2      830
##  2  2013     1     1      533            529         4      850
##  3  2013     1     1      542            540         2      923
##  4  2013     1     1      554            600        -6      812
##  5  2013     1     1      554            558        -4      740
##  6  2013     1     1      558            600        -2      753
##  7  2013     1     1      558            600        -2      924
##  8  2013     1     1      558            600        -2      923
##  9  2013     1     1      559            600        -1      941
## 10  2013     1     1      559            600        -1      854
## # ... with 139,494 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]



---
## Final exercise
***
### Solutions

Find all flights that arrived more than two hours late, but didn’t leave late.

--


```r
flights %&gt;% 
  filter(dep_delay &lt;= 0, arr_delay &gt; 120)
```

```
## # A tibble: 29 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
##  1  2013     1    27     1419           1420        -1     1754
##  2  2013    10     7     1350           1350         0     1736
##  3  2013    10     7     1357           1359        -2     1858
##  4  2013    10    16      657            700        -3     1258
##  5  2013    11     1      658            700        -2     1329
##  6  2013     3    18     1844           1847        -3       39
##  7  2013     4    17     1635           1640        -5     2049
##  8  2013     4    18      558            600        -2     1149
##  9  2013     4    18      655            700        -5     1213
## 10  2013     5    22     1827           1830        -3     2217
## # ... with 19 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]



---
## Final exercise
***
### Solutions

Find all flights that departed between midnight and 6am (inclusive)


```r
flights %&gt;% 
  filter(
  dep_time &lt;= 600 | dep_time == 2400 
  )
```

```
## # A tibble: 9,373 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
##  1  2013     1     1      517            515         2      830
##  2  2013     1     1      533            529         4      850
##  3  2013     1     1      542            540         2      923
##  4  2013     1     1      544            545        -1     1004
##  5  2013     1     1      554            600        -6      812
##  6  2013     1     1      554            558        -4      740
##  7  2013     1     1      555            600        -5      913
##  8  2013     1     1      557            600        -3      709
##  9  2013     1     1      557            600        -3      838
## 10  2013     1     1      558            600        -2      753
## # ... with 9,363 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]



---
class: inverse, middle, center

.superlarge[Arrange rows with dplyr arrange()]

---
## arrange()
***

- changes the order of rows in a dataframe instead of selecting them 
- takes a dataframe and a column name to order by


```r
flights %&gt;% 
  arrange(dep_time)
```

```
## # A tibble: 336,776 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
##  1  2013     1    13        1           2249        72      108
##  2  2013     1    31        1           2100       181      124
##  3  2013    11    13        1           2359         2      442
##  4  2013    12    16        1           2359         2      447
##  5  2013    12    20        1           2359         2      430
##  6  2013    12    26        1           2359         2      437
##  7  2013    12    30        1           2359         2      441
##  8  2013     2    11        1           2100       181      111
##  9  2013     2    24        1           2245        76      121
## 10  2013     3     8        1           2355         6      431
## # ... with 336,766 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
```

---
## arrange()
***

- changes the order of rows in a dataframe instead of selecting them 
- takes a dataframe and a column name to order by
- can also take two or more columns to order by


```r
flights %&gt;% 
  arrange(dep_time, day)
```

```
## # A tibble: 336,776 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
##  1  2013     7     1        1           2029       212      236
##  2  2013     4     5        1           2359         2      410
##  3  2013     3     8        1           2355         6      431
##  4  2013     4    10        1           1930       271      106
##  5  2013     2    11        1           2100       181      111
##  6  2013     1    13        1           2249        72      108
##  7  2013    11    13        1           2359         2      442
##  8  2013     8    15        1           2359         2      336
##  9  2013    12    16        1           2359         2      447
## 10  2013     3    18        1           2128       153      247
## # ... with 336,766 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]



---
class: inverse, middle, center

.superlarge[Select columns with dplyr select()]


---
## select()
***

- it's not uncommon to get datasets with hundreds or thousands of variables (columns)
- first challenge can be to narrow down the variables you are interested in
- `select()` allows you to rapidly zoom in on a useful subset using operations based on the names of the variables

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]



---
## select()
***
### examples

Select columns by name:

--


```r
flights %&gt;% 
  select(year, month, day)
```

```
## # A tibble: 336,776 x 3
##     year month   day
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1  2013     1     1
##  2  2013     1     1
##  3  2013     1     1
##  4  2013     1     1
##  5  2013     1     1
##  6  2013     1     1
##  7  2013     1     1
##  8  2013     1     1
##  9  2013     1     1
## 10  2013     1     1
## # ... with 336,766 more rows
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]


---
## select()
***
### examples

Select all columns between year and day (inclusive):

--


```r
flights %&gt;% 
  select(year:day)
```

```
## # A tibble: 336,776 x 3
##     year month   day
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1  2013     1     1
##  2  2013     1     1
##  3  2013     1     1
##  4  2013     1     1
##  5  2013     1     1
##  6  2013     1     1
##  7  2013     1     1
##  8  2013     1     1
##  9  2013     1     1
## 10  2013     1     1
## # ... with 336,766 more rows
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## select()
***
### examples

Select all columns except those from year and day (inclusive):

--


```r
flights %&gt;% 
  select(-(year:day))
```

```
## # A tibble: 336,776 x 16
##    dep_time sched_dep_time dep_delay arr_time sched_arr_time arr_delay
##       &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;
##  1      517            515         2      830            819        11
##  2      533            529         4      850            830        20
##  3      542            540         2      923            850        33
##  4      544            545        -1     1004           1022       -18
##  5      554            600        -6      812            837       -25
##  6      554            558        -4      740            728        12
##  7      555            600        -5      913            854        19
##  8      557            600        -3      709            723       -14
##  9      557            600        -3      838            846        -8
## 10      558            600        -2      753            745         8
## # ... with 336,766 more rows, and 10 more variables: carrier &lt;chr&gt;,
## #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,
## #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## select()
***
### helper functions

.task[A number of helper functions can be used with `select()`. Have a look at the helpfile of `select()` to explore those.]

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]



---
## select()
***
### helper functions

- `starts_with("abc")`: matches names that begin with “abc”.
- `ends_with("xyz")`: matches names that end with “xyz”.
- `contains("ijk")`: matches names that contain “ijk”.
- `num_range("x", 1:3)` matches x1, x2 and x3.

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## select()
***
### exercise

.task[Brainstorm as many ways as possible to select `dep_time`, `dep_delay`, `arr_time`, and `arr_delay` from `flights` dataset.]

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## select()
***
### solutions


```r
flights %&gt;% 
  select(dep_time, dep_delay, arr_time, arr_delay)
```

```
## # A tibble: 336,776 x 4
##    dep_time dep_delay arr_time arr_delay
##       &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1      517         2      830        11
##  2      533         4      850        20
##  3      542         2      923        33
##  4      544        -1     1004       -18
##  5      554        -6      812       -25
##  6      554        -4      740        12
##  7      555        -5      913        19
##  8      557        -3      709       -14
##  9      557        -3      838        -8
## 10      558        -2      753         8
## # ... with 336,766 more rows
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]


---
## select()
***
### solutions


```r
flights %&gt;% 
  select(starts_with("dep_"), starts_with("arr_"))
```

```
## # A tibble: 336,776 x 4
##    dep_time dep_delay arr_time arr_delay
##       &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1      517         2      830        11
##  2      533         4      850        20
##  3      542         2      923        33
##  4      544        -1     1004       -18
##  5      554        -6      812       -25
##  6      554        -4      740        12
##  7      555        -5      913        19
##  8      557        -3      709       -14
##  9      557        -3      838        -8
## 10      558        -2      753         8
## # ... with 336,766 more rows
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]


---
## select()
***
### exercise

.task[What happens if you include the name of a variable multiple times in a `select()` call?]

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## select()
***
### solution


```r
flights %&gt;% 
  select(year, month, day, year, year)
```

```
## # A tibble: 336,776 x 3
##     year month   day
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1  2013     1     1
##  2  2013     1     1
##  3  2013     1     1
##  4  2013     1     1
##  5  2013     1     1
##  6  2013     1     1
##  7  2013     1     1
##  8  2013     1     1
##  9  2013     1     1
## 10  2013     1     1
## # ... with 336,766 more rows
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]


---
## select()
***
### task

.task[What does the `one_of()` function do? Why might it be helpful in conjunction with this vector?]

    vars &lt;- c("year", "month", "day", "dep_delay", "arr_delay")
    
.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]


    
---
## select()
***
### solution


```r
vars &lt;- c("year", "month", "day", "dep_delay", "arr_delay")

flights %&gt;%
  select(
    one_of(vars)
  )
```

```
## # A tibble: 336,776 x 5
##     year month   day dep_delay arr_delay
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;
##  1  2013     1     1         2        11
##  2  2013     1     1         4        20
##  3  2013     1     1         2        33
##  4  2013     1     1        -1       -18
##  5  2013     1     1        -6       -25
##  6  2013     1     1        -4        12
##  7  2013     1     1        -5        19
##  8  2013     1     1        -3       -14
##  9  2013     1     1        -3        -8
## 10  2013     1     1        -2         8
## # ... with 336,766 more rows
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]



---
class: inverse, middle, center

.superlarge[Rename variables (columns) with dplyr rename()]

---
## rename()
***
### examples

- the `rename()` function can be used to rename variables



```r
flights %&gt;% 
  rename(
    deptime = dep_time,
    scheduled_departure_time = sched_dep_time
  )
```

```
## # A tibble: 336,776 x 19
##     year month   day deptime scheduled_departure_time dep_delay arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt;                    &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
##  1  2013     1     1     517                      515         2      830
##  2  2013     1     1     533                      529         4      850
##  3  2013     1     1     542                      540         2      923
##  4  2013     1     1     544                      545        -1     1004
##  5  2013     1     1     554                      600        -6      812
##  6  2013     1     1     554                      558        -4      740
##  7  2013     1     1     555                      600        -5      913
##  8  2013     1     1     557                      600        -3      709
##  9  2013     1     1     557                      600        -3      838
## 10  2013     1     1     558                      600        -2      753
## # ... with 336,766 more rows, and 12 more variables: sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]



---
class: inverse, middle, center

.superlarge[Adding new variables (colums) with mutate()]


---
## mutate()
***
### descriptions

- besides selecting sets of existing variables (columns), it can be useful to add variables (columns)

- these variables are functions of existing variables

- `mutate()` adds new columns add the end of your dataset

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]




---
## mutate()
***
### first, create a narrower dataset

Write this piece of code into your R Script. What does the script do?


```r
flights_sml &lt;- flights %&gt;% 
  select(
    year:day,
    ends_with("delay"),
    distance,
    air_time
  )
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]



---
## mutate()
***
### create new variables

What have we done here?


```r
flights_sml %&gt;% 
  mutate(
    gain = arr_delay - dep_delay,
    speed = distance / air_time * 60
  )
```

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]



---
## mutate()
***
### create new variables

What have we done here?


```r
flights_sml %&gt;% 
  mutate(
      gain = arr_delay - dep_delay,
      hours = air_time / 60,
      gain_per_hour = gain / hours
  )
```

-- 

**Note:** you can refer to variables (columns) that you have just created.

.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]


---
## transmute()
***
### if you only want to keep the new variables



```r
flights %&gt;% 
  transmute(
    gain = arr_delay - dep_delay,
    hours = air_time / 60,
    gain_per_hour = gain / hours
  )
```

```
## # A tibble: 336,776 x 3
##     gain     hours gain_per_hour
##    &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
##  1     9 3.7833333      2.378855
##  2    16 3.7833333      4.229075
##  3    31 2.6666667     11.625000
##  4   -17 3.0500000     -5.573770
##  5   -19 1.9333333     -9.827586
##  6    16 2.5000000      6.400000
##  7    24 2.6333333      9.113924
##  8   -11 0.8833333    -12.452830
##  9    -5 2.3333333     -2.142857
## 10    10 2.3000000      4.347826
## # ... with 336,766 more rows
```


.footnote[
This slide is inspired by content and code directly copied from the book ["R for Data Science"](http://bit.ly/wickham_r4ds) by [Hadley Wickhmam](http://hadley.nz/) available under a [(CC BY-NC-ND 3.0 US)](https://creativecommons.org/licenses/by-nc-nd/3.0/us/) License.
]

---
## Final words
***

### Contact
.button1[[email](mailto:r-tistic@lse.de)]
.button1[[website](http://www.lse.de/r-tistic)]
.button1[[twitter](https://twitter.com/Larnsce)]

### Slides
Source code available on [GitHub](http://bit.ly/rtistic_repo)

### References 
RStudio Team (2016). RStudio: Integrated Development for R. RStudio, Inc., Boston, MA URL http://www.rstudio.com/  
Slides created via the R package [xaringan](https://github.com/yihui/xaringan)  
The chakra comes from [remark.js](https://remarkjs.com), [knitr](http://yihui.name/knitr), and [R Markdown](https://rmarkdown.rstudio.com)
    </textarea>
<script src="remark-lib/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightLanguage": "R",
"highlightLines": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {window.dispatchEvent(new Event('resize'));});</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
  }
});
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
